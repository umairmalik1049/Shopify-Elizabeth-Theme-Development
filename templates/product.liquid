{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

  <div class="product">
  <!-- Product Images -->
  <div class="product__media">
    <img
      src="{{ featured_image | image_url: width: 800 }}"
      alt="{{ featured_image.alt | escape }}"
      id="ProductPhotoImg"
      width="{{ featured_image.width }}"
      height="{{ featured_image.height }}">

    {% for image in product.images %}
      <a href="{{ image | image_url: width: 800 }}">
        <img
          src="{{ image | image_url: width: 300, height: 300 }}"
          alt="{{ image.alt | escape }}"
          width="{{ image.width }}"
          height="{{ image.height }}">
      </a>
    {% endfor %}
  </div>

  <!-- Product Title -->
  <h1>{{ product.title }}</h1>

  <!-- Add to Cart Form -->
  {% form 'product'
    , product
    , id: 'AddToCartForm' %}
    <div class="product-form">

      {% if product.variants.size > 1 %}
        <label for="productSelect">Select Variant:</label>
        <select name="id" id="productSelect">
          {% for variant in product.variants %}
            {% if variant.available %}
              <option
                value="{{ variant.id }}"
                {% if variant.id == current_variant.id %}
                selected{% endif %}>
                {{ variant.title }} - {{ variant.price | money_with_currency }}
              </option>
            {% else %}
              <option disabled>
                {{ variant.title }} - Sold out
              </option>
            {% endif %}
          {% endfor %}
        </select>
      {% else %}
        <!-- Default hidden variant input (for single-variant products) -->
        <input
          type="hidden"
          name="id"
          value="{{ current_variant.id }}">
      {% endif %}

      <label for="Quantity">Quantity</label>
      <input
        type="number"
        name="quantity"
        id="Quantity"
        value="1"
        min="1">

      <button type="submit" id="AddToCart">Add to cart</button>
    </div>
  {% endform %}

  <!-- Product Description -->
  <div class="product__description">
    {{ product.description }}
  </div>
</div>